"use strict";var global=require("./_global"),$export=require("./_export"),meta=require("./_meta"),fails=require("./_fails"),hide=require("./_hide"),redefineAll=require("./_redefine-all"),forOf=require("./_for-of"),anInstance=require("./_an-instance"),isObject=require("./_is-object"),setToStringTag=require("./_set-to-string-tag"),dP=require("./_object-dp").f,each=require("./_array-methods")(0),DESCRIPTORS=require("./_descriptors");module.exports=function(e,r,t,i,o,n){var a=global[e],s=a,c=o?"set":"add",u=s&&s.prototype,f={};return DESCRIPTORS&&"function"==typeof s&&(n||u.forEach&&!fails(function(){(new s).entries().next()}))?(s=r(function(r,t){anInstance(r,s,e,"_c"),r._c=new a,void 0!=t&&forOf(t,o,r[c],r)}),each("add,clear,delete,forEach,get,has,set,keys,values,entries,toJSON".split(","),function(e){var r="add"==e||"set"==e;e in u&&(!n||"clear"!=e)&&hide(s.prototype,e,function(t,i){if(anInstance(this,s,e),!r&&n&&!isObject(t))return"get"==e&&void 0;var o=this._c[e](0===t?0:t,i);return r?this:o})}),"size"in u&&dP(s.prototype,"size",{get:function(){return this._c.size}})):(s=i.getConstructor(r,e,o,c),redefineAll(s.prototype,t),meta.NEED=!0),setToStringTag(s,e),f[e]=s,$export($export.G+$export.W+$export.F,f),n||i.setStrong(s,e,o),s};