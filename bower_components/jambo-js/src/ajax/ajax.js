jambo.ajax=function(e){var t="object"==typeof e.data?e.data:{},o=void 0===e.method||"GET"!==e.method.toUpperCase()&&"POST"!==e.method.toUpperCase()&&"PUT"!==e.method.toUpperCase()&&"DELETE"!==e.method.toUpperCase()?"GET":e.method.toUpperCase();if("string"==typeof e.url||""!==e.url){var r=[];for(var n in t)r.push(n+"="+encodeURIComponent(t[n]));var s=r.join("&"),a="GET"!==o||""===s?e.url:e.url+(e.url.indexOf("?")>=0?"&":"?")+s;return new Promise(function(t,r){var n=new XMLHttpRequest;n.onreadystatechange=function(){if(n.readyState==XMLHttpRequest.DONE){var o;try{o=JSON.parse(n.responseText)}catch(e){o=n.responseText}if(n.status>=200&&n.status<=299){"function"==typeof e.success?e.success:function(e){};t(o)}else{"function"==typeof e.error?e.error:function(e){};r(o)}}},n.open(o,a,!0),"GET"!==o?(n.setRequestHeader("Content-type","application/x-www-form-urlencoded"),n.send(s)):n.send()})}};